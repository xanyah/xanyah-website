"use strict";$(function(t){t("form").each(function(){var e=t(this),r={errorPlacement:function(t,e){var r=e.parent();r.hasClass("input-group")?t.insertAfter(r):r.hasClass("control")?t.insertAfter(e.next(".control-label")):t.insertAfter(e)}};"submit"==e.data("validate-on")&&t.extend(r,{onfocusout:!1,onkeyup:!1}),e.validate(r)}),t("form").submit(function(e){e.preventDefault();var r=t(this);if(!r.valid())return!1;var n=t("button[type=submit]",this);n.button("loading");var o,s,a,i,u,l=r.next(".response-message");return s=(o=r).attr("action"),a=o.serializeArray(),u=t.extend(!0,{},i,{url:s,type:"POST",data:a,dataType:"json"}),t.ajax(u).done(function(e){e.result?(r.trigger("form.submitted",[this,e]),t("input, textarea",r).removeClass("error"),t(".response",l).html(e.message),r.addClass("submitted"),r[0].reset()):e.errors&&t.each(e.errors,function(e,n){t("[name$='["+e+"]']",r).addClass("error").tooltip({title:n,placement:"bottom",trigger:"manual"}).tooltip("show").on("focus",function(){t(this).tooltip("destroy")})})}).fail(function(){t(".response",l).html(t("<span class='block'>Something went wrong.</span>"))}).always(function(){n.button("reset")}),!1})});